<div class="signal-store-dual-app-container">
    <div class="app1-container">
        <p>signal-store-example works!</p>
        <div class="todos">
            <mat-button-toggle-group #filter (change)="onFilterChange($event)">
                <mat-button-toggle value="all">All</mat-button-toggle>
                <mat-button-toggle value="pending">Pending</mat-button-toggle>
                <mat-button-toggle value="completed">Completed</mat-button-toggle>
            </mat-button-toggle-group>
            @if (store.loading()) {
            <mat-spinner />
            }
            @else {
            <mat-form-field subscriptSizing="dynamic">
                <mat-label>Enter Todo</mat-label>
                <input matInput (keyup.enter)="onAddTodo(todoInput.value)" #todoInput>
                <mat-icon matSuffix fontIcon="edit"></mat-icon>
            </mat-form-field>


            <div class="todos-list-container">
                <mat-selection-list #todos>
                    @for (todo of store.filteredTodos(); track todo.id; let index = $index) {

                    <mat-list-option [selected]="todo.completed" (selectedChange)="onTodoToggled(todo.id, $event)">
                        <div class="todo-item">
                            <mat-icon class="delete-todo" fontIcon="delete"
                                (click)="onDeleteTodo(todo.id, $event)"></mat-icon>
                            <span [class.completed]="todo.completed">{{todo.title}}</span>
                        </div>
                    </mat-list-option>
                    }
                </mat-selection-list>
            </div>
            }
        </div>
    </div>
    <!-- Uncomment the below code to see the second app -->
    <!-- <div class="app2-container">
        <router-outlet name="top"></router-outlet>
        <router-outlet name="bottom"></router-outlet>
    </div> -->
</div>